<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kişisel Finans Takip</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='CSS/styles.css') }}">
  <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon" />
</head>
<body>

  <h1>Kişisel Finans Takip Uygulaması</h1>

  <!-- Sekmeler -->
  <div id="authTabs" style="text-align:center; margin-bottom: 20px;">
    <div id="loginTab" class="tab active">Giriş Yap</div>
    <div id="registerTab" class="tab">Kayıt Ol</div>
  </div>

  <!-- Giriş Formu -->
  <form id="loginForm" method="POST" action="/login" autocomplete="off">
    <label for="loginUsername">Kullanıcı Adı</label>
    <input type="text" id="loginUsername" name="username" required />

    <label for="loginPassword">Şifre</label>
    <input type="password" id="loginPassword" name="password" required />

    <button type="submit">Giriş Yap</button>
  </form>

  <div id="loginMessage" style="color: red; margin-top: 10px;"></div>

  <!-- Kayıt Formu -->
  <form id="registerForm" class="hidden" method="POST" action="/register" autocomplete="off">
    <label for="registerUsername">Kullanıcı Adı</label>
    <input type="text" id="registerUsername" name="username" required />

    <label for="registerEmail">Email</label>
    <input type="email" id="registerEmail" name="email" required />

    <label for="registerPassword">Şifre</label>
    <input type="password" id="registerPassword" name="password" required />

    <button type="submit">Kayıt Ol</button>
  </form>

  <div id="authStatus" style="margin-top:15px; min-height: 20px;"></div>

  <!-- Giriş Sonrası Görünen Kısım -->
  <div id="financeSection" class="hidden">
    <button id="goToGraph" style="margin-bottom: 10px;">📊 Grafiklere Git</button>

    <form id="financeForm" method="POST" action="/veri-ekle" autocomplete="off">
      <label for="type">Tür</label>
      <select id="type" name="type" required>
        <option value="">Seçiniz</option>
        <option value="Gelir">Gelir</option>
        <option value="Gider">Gider</option>
      </select>

      <label for="amount">Miktar</label>
      <input type="number" id="amount" name="amount" step="0.01" required />

      <label for="category">Kategori</label>
      <input type="text" id="category" name="category" required />

      <label for="date">Tarih</label>
      <input type="date" id="date" name="date" required />

      <button type="submit">Ekle</button>
    </form>

    <div id="status" style="margin-top:10px; min-height: 20px;"></div>

    <table id="transactionsTable">
      <thead>
        <tr>
          <th>ID</th>
          <th>Tür</th>
          <th>Miktar</th>
          <th>Kategori</th>
          <th>Tarih</th>
          <th>İşlemler</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <button id="logoutBtn" style="background-color:#dc3545; margin-top:20px; width: 100%;">Çıkış Yap</button>
  </div>

  <!-- JS dosyasını Flask static klasöründen çağırıyor -->
  <script src="{{ url_for('static', filename='JS/app.js') }}"></script>
</body>
</html>